<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: The Ambiguous Effect of a Wealth Tax on Savings</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Brilliant Blues -->
    <!-- Narrative Structure Plan: The infographic tells a story in four parts to make the complex economic argument digestible. 1. The Hook: A high-level question, "Does Taxing Wealth Discourage Saving?". 2. The Core Conflict: A visual breakdown of the two opposing forces, the Substitution Effect vs. the Income Effect. 3. The Interactive Lab: The centerpiece where users can manipulate model parameters (tax rate, bequest motive) with sliders and see the real-time impact on savings via charts and big numbers. This makes the abstract theory tangible. 4. The Real World: Connecting the theory to empirical evidence from Norway to show its relevance. This narrative flow guides the user from a simple question to a nuanced, evidence-backed conclusion. -->
    <!-- Visualization & Content Choices: Data Point: Model's central conflict. Goal: Compare. Viz: Two-column HTML/CSS layout with large Unicode arrows (↓, ↑) and clear text. Justification: Simple, direct comparison without complex charts. No SVG needed. | Data Point: Effect of parameters (τ, β, γ2/γ1) on savings elasticity. Goal: Relationship. Viz: Sliders for input, a large text number and a dynamic bar chart for output. Justification: Interactive exploration is the best way to understand the relationship between inputs and outputs. Library: Chart.js for the bar visualization, rendered on Canvas. | Data Point: Life-cycle wealth path. Goal: Change. Viz: Dynamic Line Chart. Justification: A line chart is the standard for showing change over time. Library: Chart.js/Canvas. | Data Point: Norwegian empirical study result. Goal: Inform. Viz: "Big Number" callout. Justification: Highlights a key statistic for maximum impact. Method: Styled HTML/CSS. | Data Point: Income vs. Substitution effect breakdown. Goal: Organize/Compare. Viz: Flow chart style using structured HTML and CSS borders/arrows. Justification: Clearly illustrates the two paths of the behavioral response without using SVG or Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F0F4F8;
        }
        .material-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid #E2E8F0;
        }
        .chart-container {
            position: relative;
            height: 350px;
            max-height: 400px;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        h1 { color: #0A2540; }
        h2 { color: #0A2540; }
        .accent-color { color: #007BFF; }
        .accent-bg { background-color: #007BFF; }
        .positive-text { color: #28a745; }
        .negative-text { color: #dc3545; }
        .positive-bg { background-color: rgba(40, 167, 69, 0.1); }
        .negative-bg { background-color: rgba(220, 53, 69, 0.1); }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <header class="text-center my-8 md:my-12">
            <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-4">Does Taxing Wealth Discourage Saving?</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">An interactive look at how anticipated wealth taxes, like those in student aid, create a complex tug-of-war on household savings decisions.</p>
        </header>

        <section class="material-card">
            <h2 class="text-3xl font-bold text-center mb-6">A Tale of Two Effects</h2>
            <p class="text-center text-gray-600 mb-8">When a wealth tax is announced, it pulls a household's savings in two opposite directions at the same time.</p>
            <div class="grid md:grid-cols-2 gap-8 text-center">
                <div class="p-6 bg-red-50 rounded-lg border border-red-200">
                    <h3 class="text-2xl font-semibold mb-3 negative-text">Substitution Effect</h3>
                    <p class="text-gray-700">The tax lowers the return on saving. This makes spending today more attractive than saving for the future.</p>
                    <div class="text-6xl font-bold negative-text my-4">↓</div>
                    <p class="text-lg font-semibold">Incentive to Save LESS</p>
                </div>
                <div class="p-6 bg-green-50 rounded-lg border border-green-200">
                    <h3 class="text-2xl font-semibold mb-3 positive-text">Income Effect</h3>
                    <p class="text-gray-700">The tax makes the household poorer. To reach a future goal (like a bequest), they may need to save more now.</p>
                    <div class="text-6xl font-bold positive-text my-4">↑</div>
                    <p class="text-lg font-semibold">Incentive to Save MORE</p>
                </div>
            </div>
        </section>

        <section class="material-card">
            <h2 class="text-3xl font-bold text-center mb-2">Interactive Policy Lab</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">Which effect wins? It depends on the household's goals. Use the sliders to change the economic conditions and see how the incentive to save changes instantly.</p>
            <div class="grid lg:grid-cols-5 gap-8">
                <div class="lg:col-span-2 space-y-6">
                    <div>
                        <label for="taxRate" class="font-semibold block mb-2">Wealth Tax Rate ($\tau$)</label>
                        <input id="taxRate" type="range" min="0" max="80" value="30" class="w-full">
                        <div class="text-right text-lg font-bold accent-color"><span id="taxRateValue">30</span>%</div>
                        <p class="text-sm text-gray-500 mt-1">The percentage of wealth taxed at the check-in date.</p>
                    </div>
                    <div>
                        <label for="bequestMotive" class="font-semibold block mb-2">Strength of Bequest Goal ($\beta$)</label>
                        <input id="bequestMotive" type="range" min="0" max="100" value="50" class="w-full">
                        <div class="text-right text-lg font-bold accent-color"><span id="bequestMotiveValue">Medium</span></div>
                        <p class="text-sm text-gray-500 mt-1">How important is leaving a large inheritance?</p>
                    </div>
                    <div>
                        <label for="gammaRatio" class="font-semibold block mb-2">Inelasticity of Bequest Goal ($\gamma_2 / \gamma_1$)</label>
                        <input id="gammaRatio" type="range" min="10" max="300" value="100" class="w-full">
                        <div class="text-right text-lg font-bold accent-color">Ratio: <span id="gammaRatioValue">1.0</span></div>
                        <p class="text-sm text-gray-500 mt-1">How unwilling is the household to change its bequest target?</p>
                    </div>
                </div>
                <div class="lg:col-span-3 flex flex-col items-center justify-center p-6 rounded-lg" id="resultCard">
                    <h3 class="text-xl text-gray-600 mb-2">Change in Pre-Tax Savings</h3>
                    <div class="text-6xl font-bold" id="elasticityValue">-0.45%</div>
                    <p class="text-lg font-semibold mt-2" id="resultText">Substitution Effect Dominates</p>
                    <div class="w-full h-8 mt-4 bg-gray-200 rounded-full overflow-hidden relative border">
                        <div class="absolute w-full h-full flex justify-center items-center text-xs font-bold text-gray-500 z-0">NEUTRAL</div>
                        <div id="elasticityBar" class="h-full rounded-full transition-all duration-300 relative z-10" style="width: 27.5%; margin-left: 50%;"></div>
                    </div>
                    <div class="w-full flex justify-between text-xs font-bold text-gray-500 mt-1">
                        <span>SAVINGS DECREASE</span>
                        <span>SAVINGS INCREASE</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="material-card">
            <h2 class="text-3xl font-bold text-center mb-2">Visualizing the Wealth Path</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">The chart below shows how your choices affect a household's wealth over its lifetime. The dashed line marks the day the wealth tax is applied.</p>
            <div class="chart-container">
                <canvas id="wealthPathChart"></canvas>
            </div>
        </section>
        
        <section class="material-card">
             <h2 class="text-3xl font-bold text-center mb-6">Connecting Theory to Reality</h2>
             <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">This isn't just a theoretical curiosity. A real-world study of Norway's wealth tax provides powerful evidence of the income effect dominating.</p>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="text-lg">
                    <p>Researchers found that Norwegian households responded to higher wealth taxes by significantly <span class="font-bold">increasing</span> their savings, primarily by working more to defend their wealth targets. This real-world finding is consistent with a strong income effect.</p>
                </div>
                <div class="p-6 rounded-lg bg-blue-50 border border-blue-200 text-center">
                    <p class="text-gray-700 text-lg">For every extra 1 NOK paid in wealth tax, households...</p>
                    <div class="my-4">
                        <span class="text-6xl font-bold positive-text">+3.76</span>
                        <span class="text-2xl font-semibold text-gray-600">NOK</span>
                    </div>
                    <p class="text-gray-700 text-lg">...in additional savings.</p>
                     <p class="text-xs text-gray-500 mt-2">(Source: Ring, 2021)</p>
                </div>
            </div>
        </section>
        
        <footer class="text-center my-8 md:my-12">
            <h2 class="text-3xl font-bold mb-4">Conclusion: It's Complicated</h2>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">The effect of a wealth tax on savings is <span class="font-bold">theoretically ambiguous</span>. Policies that seem to discourage savings for one family might actually encourage it for another. Effective policy design must account for this complex behavioral response.</p>
        </footer>

    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const taxRateSlider = document.getElementById('taxRate');
    const bequestMotiveSlider = document.getElementById('bequestMotive');
    const gammaRatioSlider = document.getElementById('gammaRatio');

    const taxRateValue = document.getElementById('taxRateValue');
    const bequestMotiveValue = document.getElementById('bequestMotiveValue');
    const gammaRatioValue = document.getElementById('gammaRatioValue');
    
    const elasticityValue = document.getElementById('elasticityValue');
    const resultText = document.getElementById('resultText');
    const resultCard = document.getElementById('resultCard');
    const elasticityBar = document.getElementById('elasticityBar');

    const ctx = document.getElementById('wealthPathChart').getContext('2d');
    let wealthChart;

    const getBequestMotiveText = (value) => {
        if (value < 20) return 'Very Weak';
        if (value < 40) return 'Weak';
        if (value < 60) return 'Medium';
        if (value < 80) return 'Strong';
        return 'Very Strong';
    };

    const calculateModel = () => {
        const tau = taxRateSlider.value / 100;
        const beta_proxy = bequestMotiveSlider.value / 100;
        const gamma_ratio = gammaRatioSlider.value / 100;

        taxRateValue.textContent = taxRateSlider.value;
        bequestMotiveValue.textContent = getBequestMotiveText(bequestMotiveSlider.value);
        gammaRatioValue.textContent = gamma_ratio.toFixed(2);
        
        const substitution_effect = 0.5 * (1 + tau * 2);
        const income_effect = beta_proxy * Math.pow(gamma_ratio, 1.5) * 1.5;
        
        const elasticity = (income_effect - substitution_effect) * 2;

        updateResultDisplay(elasticity);
        updateWealthChart(tau, elasticity);
    };
    
    const updateResultDisplay = (elasticity) => {
        elasticityValue.textContent = `${elasticity.toFixed(2)}%`;
        
        let bar_percentage = elasticity * 25; 
        bar_percentage = Math.max(-50, Math.min(50, bar_percentage));

        if (bar_percentage >= 0) {
            elasticityBar.style.marginLeft = '50%';
            elasticityBar.style.width = `${bar_percentage}%`;
            elasticityBar.style.backgroundColor = '#28a745';
        } else {
            elasticityBar.style.marginLeft = `${50 + bar_percentage}%`;
            elasticityBar.style.width = `${-bar_percentage}%`;
            elasticityBar.style.backgroundColor = '#dc3545';
        }

        if (elasticity > 0.05) {
            resultText.textContent = 'Income Effect Dominates';
            elasticityValue.className = 'text-6xl font-bold positive-text';
            resultCard.className = "lg:col-span-3 flex flex-col items-center justify-center p-6 rounded-lg positive-bg";
        } else if (elasticity < -0.05) {
            resultText.textContent = 'Substitution Effect Dominates';
            elasticityValue.className = 'text-6xl font-bold negative-text';
             resultCard.className = "lg:col-span-3 flex flex-col items-center justify-center p-6 rounded-lg negative-bg";
        } else {
            resultText.textContent = 'Effects are Nearly Balanced';
            elasticityValue.className = 'text-6xl font-bold text-gray-700';
            resultCard.className = "lg:col-span-3 flex flex-col items-center justify-center p-6 rounded-lg bg-gray-100";
        }
    };

    const generateWealthData = (tau, elasticity) => {
        const T1 = 25;
        const T2 = 50;
        const r = 0.03;
        const W0 = 5;
        const savings_effort = 1 + elasticity * 0.05;

        const labels = Array.from({ length: T2 + 1 }, (_, i) => i);
        const data = labels.map(t => {
            if (t <= T1) {
                return W0 * Math.exp(r * savings_effort * t);
            } else {
                const W_T1_minus = W0 * Math.exp(r * savings_effort * T1);
                const W_T1_plus = W_T1_minus * (1 - tau);
                return W_T1_plus * Math.exp(r * (t - T1));
            }
        });
        return { labels, data };
    };

    const updateWealthChart = (tau, elasticity) => {
        const { labels, data } = generateWealthData(tau, elasticity);
        wealthChart.data.labels = labels;
        wealthChart.data.datasets[0].data = data;
        wealthChart.update('none');
    };

    const initializeChart = () => {
        const initial_tau = taxRateSlider.value / 100;
        const { labels, data } = generateWealthData(initial_tau, -0.45);
        
        wealthChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Household Wealth',
                    data: data,
                    borderColor: '#007BFF',
                    backgroundColor: 'rgba(0, 123, 255, 0.1)',
                    borderWidth: 3,
                    pointRadius: 0,
                    tension: 0.2,
                    fill: true,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { 
                        beginAtZero: true,
                        title: { display: true, text: 'Wealth Units', font: { weight: 'bold' } }
                    },
                    x: {
                        title: { display: true, text: 'Time (Years)', font: { weight: 'bold' } }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                } else {
                                  return label;
                                }
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            taxLine: {
                                type: 'line',
                                xMin: 25,
                                xMax: 25,
                                borderColor: 'rgba(220, 53, 69, 0.7)',
                                borderWidth: 2,
                                borderDash: [6, 6],
                                label: {
                                    content: 'Tax Date',
                                    enabled: true,
                                    position: 'start',
                                    backgroundColor: 'rgba(220, 53, 69, 0.7)',
                                    font: { weight: 'bold' }
                                }
                            }
                        }
                    }
                }
            }
        });
    };

    [taxRateSlider, bequestMotiveSlider, gammaRatioSlider].forEach(slider => {
        slider.addEventListener('input', calculateModel);
    });
    
    initializeChart();
    calculateModel();
});
</script>

</body>
</html>
